/* ════════════════════════════════════════════
   McDonald's Strategic Intelligence Platform
   Stylesheet
════════════════════════════════════════════ */

/* ════════ BRAND TOKENS ════════ */
:root {
  --red:    #DA020E;
  --yellow: #FFC72C;
  --dark:   #1A1A1A;
  --dark2:  #111111;
  --panel:  #1E1E1E;
  --card:   #252525;
  --border: rgba(255,255,255,0.08);
  --bord-y: rgba(255,199,44,0.30);
  --text:   #E8E8E8;
  --muted:  #888888;
  --green:  #22C55E;
  --orange: #F97316;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body {
  height: 100%; overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
  background: var(--dark); color: var(--text); font-size: 13px;
}

/* ════════ HEADER ════════ */
#hdr {
  position: fixed; top: 0; left: 0; right: 0; height: 56px;
  background: var(--dark2); border-bottom: 2px solid var(--yellow);
  display: flex; align-items: center; padding: 0 16px; gap: 12px; z-index: 1000;
}
.brand-name { font-size: 15px; font-weight: 700; color: var(--yellow); }
.brand-sub  { font-size: 10px; color: var(--muted); margin-top: 1px; }
.hdr-sp { flex: 1; }
#apiBadge {
  display: flex; align-items: center; gap: 6px;
  padding: 5px 12px; background: var(--card);
  border: 1px solid var(--border); border-radius: 20px;
  font-size: 11px; color: var(--muted); cursor: pointer; transition: .15s;
}
#apiBadge:hover { border-color: var(--bord-y); color: var(--yellow); }
#apiDot { width: 7px; height: 7px; border-radius: 50%; background: var(--muted); transition: .3s; }
#apiDot.on { background: var(--green); }

/* ════════ TABS ════════ */
#tabs {
  position: fixed; top: 56px; left: 0; right: 0; height: 42px;
  background: var(--dark2); border-bottom: 1px solid var(--border);
  display: flex; overflow-x: auto; z-index: 999;
}
#tabs::-webkit-scrollbar { height: 2px; }
#tabs::-webkit-scrollbar-thumb { background: var(--yellow); }
.tab {
  flex-shrink: 0; height: 100%; padding: 0 16px;
  background: none; border: none; border-bottom: 3px solid transparent;
  color: var(--muted); font-size: 12px; font-weight: 600;
  cursor: pointer; transition: all .15s;
  display: flex; align-items: center; gap: 5px; white-space: nowrap;
}
.tab:hover { color: var(--text); background: rgba(255,199,44,.05); }
.tab.on { color: var(--yellow); border-bottom-color: var(--yellow); }

/* ════════ CONTENT AREA ════════ */
#content { position: fixed; top: 98px; left: 0; right: 0; bottom: 0; }
.panel { display: none; width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
.panel.on { display: flex; }
#panel-overview { overflow-y: auto; background: var(--dark); }
#panel-overview.on { display: block; }

/* ════════ MAP LAYOUT ════════ */
.sp {
  width: 282px; flex-shrink: 0; background: var(--panel);
  border-right: 1px solid var(--border);
  display: flex; flex-direction: column; overflow-y: auto; overflow-x: hidden;
}
.sp::-webkit-scrollbar { width: 3px; }
.sp::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
.ma { flex: 1; position: relative; }

/* ════════ SIDE PANEL COMPONENTS ════════ */
.sp-hd   { padding: 13px 15px; border-bottom: 1px solid var(--border); background: rgba(0,0,0,.3); flex-shrink: 0; }
.sp-ttl  { font-size: 13px; font-weight: 700; color: var(--yellow); }
.sp-desc { font-size: 11px; color: var(--muted); margin-top: 3px; line-height: 1.4; }
.sp-sec  { padding: 11px 15px; border-bottom: 1px solid var(--border); }
.lbl     { font-size: 10px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: .7px; margin-bottom: 7px; }

.kpi { background: var(--card); border: 1px solid var(--border); border-radius: 6px; padding: 9px 11px; margin-bottom: 6px; }
.kpi-l { font-size: 10px; color: var(--muted); }
.kpi-v { font-size: 21px; font-weight: 700; color: var(--yellow); line-height: 1.1; }
.kpi-v.r { color: var(--red); }
.kpi-v.g { color: var(--green); }
.kpi-s { font-size: 10px; color: var(--muted); margin-top: 2px; }

.btn-y { width:100%; padding:9px; background:var(--yellow); color:#111; border:none; border-radius:5px; font-weight:700; font-size:12px; cursor:pointer; transition:.15s; margin-bottom:5px; }
.btn-y:hover { background:#FFD54F; }
.btn-o { width:100%; padding:8px; background:transparent; color:var(--yellow); border:1px solid var(--bord-y); border-radius:5px; font-weight:600; font-size:12px; cursor:pointer; transition:.15s; margin-bottom:5px; }
.btn-o:hover { background:rgba(255,199,44,.1); }
.btn-r { width:100%; padding:8px; background:rgba(218,2,14,.1); color:var(--red); border:1px solid rgba(218,2,14,.4); border-radius:5px; font-weight:600; font-size:12px; cursor:pointer; transition:.15s; margin-bottom:5px; }
.btn-r:hover { background:rgba(218,2,14,.2); }

.tog-row { display:flex; flex-wrap:wrap; gap:4px; }
.tog { padding:4px 9px; background:var(--card); border:1px solid var(--border); border-radius:4px; color:var(--muted); font-size:11px; cursor:pointer; transition:.15s; }
.tog.on { background:rgba(255,199,44,.15); border-color:var(--bord-y); color:var(--yellow); }

.al { display:flex; align-items:flex-start; gap:8px; padding:8px 10px; background:var(--card); border-radius:4px; margin-bottom:5px; }
.al.cr { border-left:3px solid var(--red); }
.al.wn { border-left:3px solid var(--orange); }
.al.ok { border-left:3px solid var(--green); }
.al-dot { width:7px; height:7px; border-radius:50%; margin-top:3px; flex-shrink:0; }
.al-dot.p { animation: pulse 1.5s ease-in-out infinite; }
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.4;transform:scale(1.4)} }
.al-tx { font-size:11px; line-height:1.4; }
.al-ti { font-weight:700; font-size:11px; }

.leg { display:flex; align-items:center; gap:8px; font-size:11px; margin-bottom:5px; color:var(--muted); }
.leg-d { width:9px; height:9px; border-radius:50%; flex-shrink:0; }
.leg-l { width:22px; height:3px; border-radius:2px; flex-shrink:0; }

select.sel { width:100%; padding:7px 9px; background:var(--card); border:1px solid var(--border); border-radius:4px; color:var(--text); font-size:12px; cursor:pointer; margin-bottom:5px; }
select.sel:focus { outline:none; border-color:var(--bord-y); }
input.inp { width:100%; padding:7px 9px; background:var(--card); border:1px solid var(--border); border-radius:4px; color:var(--text); font-size:12px; margin-bottom:6px; }
input.inp:focus { outline:none; border-color:var(--bord-y); }
input[type=range] { width:100%; accent-color:var(--yellow); margin:4px 0; }
.sl-lbl { display:flex; justify-content:space-between; font-size:10px; color:var(--muted); }

.tbl { width:100%; font-size:11px; border-collapse:collapse; }
.tbl th { color:var(--muted); font-weight:600; padding:3px 5px; text-align:left; border-bottom:1px solid var(--border); }
.tbl td { padding:4px 5px; border-bottom:1px solid rgba(255,255,255,.04); }
.tbl tr:hover td { background:rgba(255,199,44,.04); }

.bdg { display:inline-block; padding:2px 7px; border-radius:10px; font-size:10px; font-weight:700; }
.bdg.r { background:rgba(218,2,14,.2);  color:var(--red); }
.bdg.y { background:rgba(255,199,44,.2); color:var(--yellow); }
.bdg.g { background:rgba(34,197,94,.2);  color:var(--green); }
.bdg.o { background:rgba(249,115,22,.2); color:var(--orange); }

/* ════════ OVERVIEW ════════ */
.ov-in { padding: 20px; max-width: 1200px; margin: 0 auto; }
.ov-title { font-size: 22px; font-weight: 700; color: var(--yellow); }
.ov-sub   { font-size: 12px; color: var(--muted); margin-top: 4px; margin-bottom: 16px; }
.stats-row { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
.stat { background: var(--panel); border: 1px solid var(--border); border-radius: 7px; padding: 12px 16px; }
.stat-n { font-size: 24px; font-weight: 700; color: var(--yellow); }
.stat-n.r { color: var(--red); }
.stat-l { font-size: 10px; color: var(--muted); margin-top: 2px; }
.pgrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(290px, 1fr)); gap: 14px; }
.pc {
  background: var(--panel); border: 1px solid var(--border);
  border-top: 3px solid var(--red); border-radius: 8px;
  padding: 16px; cursor: pointer; transition: all .2s;
}
.pc:hover { border-color: var(--bord-y); transform: translateY(-2px); box-shadow: 0 6px 24px rgba(0,0,0,.5); }
.pc-hd { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
.pc-num { font-size: 30px; font-weight: 700; color: rgba(218,2,14,.35); line-height: 1; }
.pc-ttl { font-size: 14px; font-weight: 700; margin-bottom: 6px; }
.pc-desc { font-size: 11px; color: var(--muted); line-height: 1.5; margin-bottom: 10px; }
.pc-imp  { font-size: 12px; color: var(--red); font-weight: 600; margin-bottom: 10px; }
.pc-sol  { background: rgba(255,199,44,.07); border: 1px solid rgba(255,199,44,.2); border-radius: 4px; padding: 8px 10px; font-size: 11px; color: var(--yellow); }
.pc-sol-lbl { font-size: 9px; text-transform: uppercase; letter-spacing: .8px; font-weight: 700; margin-bottom: 3px; opacity: .7; }
.pc-cta { display: inline-block; margin-top: 10px; padding: 5px 12px; background: var(--card); border: 1px solid var(--border); border-radius: 4px; font-size: 11px; color: var(--muted); cursor: pointer; transition: .15s; }
.pc-cta:hover { border-color: var(--bord-y); color: var(--yellow); }

/* ════════ MAP STATUS PILL ════════ */
.mpill {
  position: absolute; bottom: 12px; left: 50%; transform: translateX(-50%);
  background: rgba(15,15,15,.88); border: 1px solid var(--border);
  border-radius: 20px; padding: 5px 14px;
  font-size: 10px; color: var(--muted); z-index: 10; pointer-events: none; white-space: nowrap;
}
.mpill .dot { width: 5px; height: 5px; border-radius: 50%; background: var(--green); display: inline-block; margin-right: 5px; vertical-align: middle; }

/* Disruption banner */
#dbanner {
  position: absolute; top: 12px; left: 50%; transform: translateX(-50%);
  background: rgba(180,0,0,.92); border: 1px solid var(--red);
  border-radius: 6px; padding: 8px 18px;
  font-size: 12px; color: #fff; font-weight: 700; z-index: 100; display: none;
  white-space: nowrap; animation: pulse 2s ease-in-out infinite;
}
#dbanner.on { display: block; }

/* ════════ API MODAL ════════ */
#modal-api { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.78); z-index: 9999; align-items: center; justify-content: center; }
#modal-api.on { display: flex; }
.modal-box { background: var(--panel); border: 1px solid var(--bord-y); border-radius: 10px; padding: 28px; width: 460px; max-width: 92vw; }
.modal-logo { text-align: center; margin-bottom: 12px; }
.modal-ttl  { font-size: 17px; font-weight: 700; color: var(--yellow); text-align: center; margin-bottom: 6px; }
.modal-desc { font-size: 12px; color: var(--muted); text-align: center; margin-bottom: 18px; line-height: 1.55; }
.modal-inp  { width: 100%; padding: 10px 12px; background: var(--dark); border: 1px solid var(--border); border-radius: 5px; color: var(--text); font-size: 12px; font-family: monospace; margin-bottom: 10px; }
.modal-inp:focus { outline: none; border-color: var(--bord-y); }
.modal-acts { display: flex; gap: 8px; }
.modal-acts .btn-y { margin-bottom: 0; }
